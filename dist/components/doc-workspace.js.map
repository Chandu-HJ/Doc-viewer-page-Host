{"file":"doc-workspace.js","mappings":"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","names":["DocWorkspace","__stencil_proxyCustomElement","HTMLElement"],"sources":["src/components/doc-workspace/doc-workspace.css?tag=doc-workspace","src/components/doc-workspace/doc-workspace.tsx"],"sourcesContent":["/* ============================================\r\n   WORKSPACE ROOT ‚Äì THEMES\r\n============================================ */\r\n.workspace-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100%;\r\n  width: 100%;\r\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;\r\n}\r\n\r\n/* LIGHT MODE ‚Äî Pastel Glass (your first theme) */\r\n.theme-light.workspace-container {\r\n  background: linear-gradient(145deg,\r\n    #dffcf4 0%,\r\n    #eaf8ff 40%,\r\n    #f4eaff 100%\r\n  );\r\n  color: #0f1b27;\r\n}\r\n\r\n/* DARK MODE ‚Äî Matte Mint Charcoal */\r\n.theme-dark.workspace-container {\r\n  background: linear-gradient(145deg,\r\n    #0a1110 0%,\r\n    #080d0c 40%,\r\n    #050908 100%\r\n  );\r\n  color: #e9f7f4;\r\n}\r\n\r\n/* SEPIA MODE ‚Äî Soft Warm Glass */\r\n.theme-sepia.workspace-container {\r\n  background: linear-gradient(145deg,\r\n    #f8efd9 0%,\r\n    #f4e3c3 40%,\r\n    #e7ceaa 100%\r\n  );\r\n  color: #3e2a15;\r\n}\r\n\r\n/* ============================================\r\n   WORKSPACE TOOLBAR ‚Äî GLASS\r\n============================================ */\r\n.workspace-toolbar {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 10px 16px;\r\n  gap: 12px;\r\n\r\n  background: rgba(255, 255, 255, 0.45);\r\n  border-bottom: 1px solid rgba(255, 255, 255, 0.35);\r\n\r\n  backdrop-filter: blur(18px);\r\n  -webkit-backdrop-filter: blur(18px);\r\n  box-shadow: 0 8px 22px rgba(0, 0, 0, 0.10);\r\n\r\n  z-index: 20;\r\n}\r\n\r\n/* Dark */\r\n.theme-dark .workspace-toolbar {\r\n  background: rgba(20, 28, 26, 0.45);\r\n  border-bottom-color: rgba(70, 85, 80, 0.45);\r\n  box-shadow: 0 8px 22px rgba(0, 0, 0, 0.30);\r\n}\r\n\r\n/* Sepia */\r\n.theme-sepia .workspace-toolbar {\r\n  background: rgba(255, 245, 230, 0.55);\r\n  border-bottom-color: rgba(180, 140, 100, 0.45);\r\n}\r\n\r\n/* ============================================\r\n   OPEN BUTTON ‚Äî Mint Glass\r\n============================================ */\r\n.open-btn {\r\n  padding: 7px 16px;\r\n  border-radius: 999px;\r\n  border: none;\r\n\r\n  background: #0d9b82;\r\n  color: white;\r\n  cursor: pointer;\r\n\r\n  box-shadow: 0 10px 24px rgba(13, 155, 130, 0.35);\r\n  transition: 0.15s ease;\r\n}\r\n\r\n.open-btn:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 12px 30px rgba(13, 155, 130, 0.45);\r\n}\r\n\r\n/* Dark */\r\n.theme-dark .open-btn {\r\n  background: #0d9b82;\r\n  box-shadow: none;\r\n}\r\n\r\n/* Sepia */\r\n.theme-sepia .open-btn {\r\n  background: #c97b43;\r\n  box-shadow: 0 10px 22px rgba(175, 110, 60, 0.45);\r\n}\r\n\r\n/* ============================================\r\n   THEME SELECT ‚Äî Glass\r\n============================================ */\r\n.theme-select {\r\n  padding: 6px 12px;\r\n  border-radius: 999px;\r\n\r\n  background: rgba(255, 255, 255, 0.65);\r\n  border: 1px solid rgba(255, 255, 255, 0.45);\r\n\r\n  backdrop-filter: blur(12px);\r\n  cursor: pointer;\r\n\r\n  font-size: 13px;\r\n  color: inherit;\r\n}\r\n\r\n/* Dark */\r\n.theme-dark .theme-select {\r\n  background: rgba(25, 34, 32, 0.7);\r\n  border-color: rgba(100, 120, 110, 0.55);\r\n  color: #def3ed;\r\n}\r\n\r\n/* Sepia */\r\n.theme-sepia .theme-select {\r\n  background: rgba(255, 245, 230, 0.75);\r\n  border-color: rgba(180, 140, 100, 0.55);\r\n  color: #3e2a15;\r\n}\r\n\r\n/* ============================================\r\n   TABS ‚Äî Glass Pills\r\n============================================ */\r\n.workspace-tabs {\r\n  display: flex;\r\n  overflow-x: auto;\r\n  gap: 6px;\r\n  padding: 6px 10px;\r\n\r\n  background: rgba(255, 255, 255, 0.30);\r\n  border-bottom: 1px solid rgba(255, 255, 255, 0.25);\r\n\r\n  backdrop-filter: blur(14px);\r\n}\r\n\r\n/* Dark */\r\n.theme-dark .workspace-tabs {\r\n  background: rgba(25, 33, 31, 0.35);\r\n  border-bottom-color: rgba(80, 95, 90, 0.45);\r\n}\r\n\r\n/* Sepia */\r\n.theme-sepia .workspace-tabs {\r\n  background: rgba(255, 245, 233, 0.55);\r\n  border-bottom-color: rgba(180, 140, 100, 0.45);\r\n}\r\n\r\n/* Individual Tab */\r\n.tab {\r\n  padding: 7px 14px;\r\n  border-radius: 12px;\r\n  cursor: pointer;\r\n\r\n  background: rgba(255, 255, 255, 0.75);\r\n  border: 1px solid rgba(255, 255, 255, 0.45);\r\n\r\n  transition: 0.15s ease;\r\n}\r\n\r\n.tab:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 10px 22px rgba(13, 155, 130, 0.15);\r\n}\r\n\r\n/* Dark */\r\n.theme-dark .tab {\r\n  background: rgba(25, 33, 31, 0.8);\r\n  border-color: rgba(80, 100, 95, 0.4);\r\n  color: #def3ed;\r\n}\r\n\r\n/* Sepia */\r\n.theme-sepia .tab {\r\n  background: rgba(255, 245, 233, 0.8);\r\n  border-color: rgba(180, 140, 100, 0.4);\r\n}\r\n\r\n/* Active Tab */\r\n.tab.active {\r\n  background: #0d9b82;\r\n  color: white;\r\n  border-color: transparent;\r\n\r\n  box-shadow: 0 10px 22px rgba(13, 155, 130, 0.35);\r\n}\r\n\r\n/* Sepia active = warm accent */\r\n.theme-sepia .tab.active {\r\n  background: #c77a42;\r\n}\r\n\r\n/* ============================================\r\n   VIEWER PANEL\r\n============================================ */\r\n.workspace-viewer {\r\n  flex: 1;\r\n  overflow: hidden;\r\n  position: relative;\r\n}\r\n\r\n/* Empty message */\r\n.empty {\r\n  padding: 40px;\r\n  text-align: center;\r\n  opacity: 0.7;\r\n  font-size: 18px;\r\n}\r\n","// src/components/doc-workspace/doc-workspace.tsx\r\nimport { Component, h, Prop, State } from '@stencil/core';\r\nimport type { FileType } from '../doc-viewer/doc-viewer';\r\n\r\ninterface WorkspaceFile {\r\n  id: string;\r\n  name: string;\r\n  url: string;\r\n  fileType: FileType;\r\n}\r\n\r\n@Component({\r\n  tag: 'doc-workspace',\r\n  styleUrl: 'doc-workspace.css',\r\n  shadow: false,\r\n})\r\nexport class DocWorkspace {\r\n  @Prop() scale: number = 1.2;\r\n  @State() files: WorkspaceFile[] = [];\r\n  @State() activeId: string | null = null;\r\n\r\n  // ‚≠ê Global theme state (affects viewer + workspace)\r\n  @State() theme: 'light' | 'dark' | 'sepia' = 'light';\r\n\r\n  private fileInput?: HTMLInputElement;\r\n\r\n  // ------------------------------------------------------------\r\n  // FILE UPLOAD\r\n  // ------------------------------------------------------------\r\n  private onFileSelected = (e: Event) => {\r\n    const input = e.target as HTMLInputElement;\r\n    const file = input.files?.[0];\r\n    if (!file) return;\r\n\r\n    const ext = file.name.toLowerCase();\r\n    const id = Date.now().toString();\r\n\r\n    let fileType: FileType = 'text';\r\n    if (ext.endsWith('.pdf')) fileType = 'pdf';\r\n    else if (ext.match(/\\.(png|jpg|jpeg|gif|bmp|webp)$/)) fileType = 'image';\r\n\r\n    const url = URL.createObjectURL(file);\r\n\r\n    this.files = [\r\n      ...this.files,\r\n      {\r\n        id,\r\n        name: file.name,\r\n        url,\r\n        fileType,\r\n      },\r\n    ];\r\n\r\n    this.activeId = id;\r\n    input.value = '';\r\n  };\r\n\r\n  // ------------------------------------------------------------\r\n  // CLOSE TAB\r\n  // ------------------------------------------------------------\r\n  private closeFile(id: string) {\r\n    this.files = this.files.filter((f) => f.id !== id);\r\n\r\n    if (this.activeId === id) {\r\n      this.activeId = this.files.length ? this.files[0].id : null;\r\n    }\r\n  }\r\n\r\n  // ------------------------------------------------------------\r\n  // RENDER\r\n  // ------------------------------------------------------------\r\n  render() {\r\n    const activeFile = this.files.find((f) => f.id === this.activeId);\r\n\r\n    return (\r\n      <div class={`workspace-container theme-${this.theme}`}>\r\n\r\n        {/* ------------------------ WORKSPACE TOOLBAR ------------------------- */}\r\n        <div class=\"workspace-toolbar\">\r\n          <button class=\"open-btn\" onClick={() => this.fileInput?.click()}>\r\n            üìÇ Open File\r\n          </button>\r\n\r\n          <input\r\n            type=\"file\"\r\n            accept=\".pdf,.png,.jpg,.jpeg,.gif,.bmp,.webp,.txt,.md\"\r\n            style={{ display: 'none' }}\r\n            ref={(el) => (this.fileInput = el as HTMLInputElement)}\r\n            onChange={this.onFileSelected}\r\n          />\r\n\r\n          <div class=\"toolbar-spacer\"></div>\r\n\r\n          {/* ‚≠ê THEME SWITCHER */}\r\n          <label class=\"theme-label\">Theme:</label>\r\n          <select\r\n            class=\"theme-select\"\r\n            onChange={(e: any) => {\r\n              this.theme = e.target.value;\r\n            }}\r\n          >\r\n            <option value=\"light\" selected={this.theme === 'light'}>\r\n              Light\r\n            </option>\r\n            <option value=\"dark\" selected={this.theme === 'dark'}>\r\n              Dark\r\n            </option>\r\n            <option value=\"sepia\" selected={this.theme === 'sepia'}>\r\n              Sepia\r\n            </option>\r\n          </select>\r\n        </div>\r\n\r\n        {/* ------------------------ TABS ------------------------- */}\r\n        <div class=\"workspace-tabs\">\r\n          {this.files.map((file) => (\r\n            <div\r\n              class={{\r\n                tab: true,\r\n                active: file.id === this.activeId,\r\n              }}\r\n              onClick={() => (this.activeId = file.id)}\r\n            >\r\n              {file.name}\r\n\r\n              <span\r\n                class=\"close-x\"\r\n                onClick={(ev) => {\r\n                  ev.stopPropagation();\r\n                  this.closeFile(file.id);\r\n                }}\r\n              >\r\n                ‚úñ\r\n              </span>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {/* ------------------------ VIEWER PANEL ------------------------- */}\r\n        <div class=\"workspace-viewer\">\r\n          {activeFile ? (\r\n            <doc-viewer\r\n              key={activeFile.id}\r\n              src={activeFile.url}\r\n              fileType={activeFile.fileType}\r\n              scale={this.scale}\r\n              theme={this.theme}      // ‚≠ê PASS THEME TO VIEWER\r\n              mode=\"editor\"           // default for workspace\r\n            ></doc-viewer>\r\n          ) : (\r\n            <div class=\"empty\">\r\n              No file opened. Click <b>Open File</b>.\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"],"version":3}